<a href="../../index.html" class="icon icon-home">vscode</a>

-

- [Home](../../index.html)

-

- - Customization
  - [Keyboard shortcuts](../../customization/keyboard-shortcuts/index.html)

-

- - Editor
  - [Accessibility](../../editor/accessibility/index.html)
  - [Codebasics](../../editor/codebasics/index.html)
  - [Command line](../../editor/command-line/index.html)
  - [Debugging](../../editor/debugging/index.html)
  - [Editingevolved](../../editor/editingevolved/index.html)
  - [Emmet](../../editor/emmet/index.html)
  - [Extension gallery](../../editor/extension-gallery/index.html)
  - [Integrated terminal](../../editor/integrated-terminal/index.html)
  - [Intellisense](../../editor/intellisense/index.html)
  - [Tasks appendix](../../editor/tasks-appendix/index.html)
  - [Tasks v1 appendix](../../editor/tasks-v1-appendix/index.html)
  - [Tasks v1](../../editor/tasks-v1/index.html)
  - [Tasks](../../editor/tasks/index.html)
  - [Userdefinedsnippets](../../editor/userdefinedsnippets/index.html)
  - [Versioncontrol](../../editor/versioncontrol/index.html)
  - [Whyvscode](../../editor/whyvscode/index.html)

-

- - extensionAPI
  - [Activation events](../../extensionAPI/activation-events/index.html)
  - [Api debugging](../../extensionAPI/api-debugging/index.html)
  - [Api markdown](../../extensionAPI/api-markdown/index.html)
  - [Api scm](../../extensionAPI/api-scm/index.html)
  - [Extension manifest](../../extensionAPI/extension-manifest/index.html)
  - [Extension points](../../extensionAPI/extension-points/index.html)
  - [Language support](../../extensionAPI/language-support/index.html)
  - [Overview](../../extensionAPI/overview/index.html)
  - [Patterns and principles](../../extensionAPI/patterns-and-principles/index.html)
  - [Vscode api commands](../../extensionAPI/vscode-api-commands/index.html)
  - [Vscode api](../../extensionAPI/vscode-api/index.html)

-

- - Extensions
  - [Debugging extensions](../debugging-extensions/index.html)
  - [Example debuggers](../example-debuggers/index.html)
  - [Example hello world](../example-hello-world/index.html)
  - [Example language server](../example-language-server/index.html)
  - [Example word count](../example-word-count/index.html)
  - [Overview](../overview/index.html)
  - [Publish extension](../publish-extension/index.html)
  - [Samples](../samples/index.html)
  - <a href="index.html" class="current">Testing extensions</a>
    - [Testing Your Extension](#testing-your-extension)
    - <a href="#yo-code-test-scaffolding" class="toctree-l4">Yo Code Test Scaffolding</a>
    - <a href="#launch-tests-configuration" class="toctree-l4">Launch Tests configuration</a>
    - <a href="#passing-arguments-to-the-extension-development-host" class="toctree-l4">Passing Arguments to the Extension Development Host</a>
    - <a href="#excluding-test-files-from-your-extension-package" class="toctree-l4">Excluding test files from your extension package</a>
    - <a href="#running-tests-automatically-on-travis-ci-build-machines" class="toctree-l4">Running tests automatically on Travis CI build machines</a>
    - <a href="#running-tests-on-windows-with-appveyor" class="toctree-l4">Running tests on Windows with AppVeyor</a>
    - <a href="#next-steps" class="toctree-l4">Next Steps</a>
  - [Themes snippets colorizers](../themes-snippets-colorizers/index.html)
  - [Yocode](../yocode/index.html)

-

- - Getstarted
  - [Introvideos](../../getstarted/introvideos/index.html)
  - [Keybindings](../../getstarted/keybindings/index.html)
  - [Locales](../../getstarted/locales/index.html)
  - [Settings](../../getstarted/settings/index.html)
  - [Theme color reference](../../getstarted/theme-color-reference/index.html)
  - [Themes](../../getstarted/themes/index.html)
  - [Userinterface](../../getstarted/userinterface/index.html)

-

- - Introvideos
  - [Basics](../../introvideos/basics/index.html)
  - [Codeediting](../../introvideos/codeediting/index.html)
  - [Configure](../../introvideos/configure/index.html)
  - [Debugging](../../introvideos/debugging/index.html)
  - [Extend](../../introvideos/extend/index.html)
  - [Intellisense](../../introvideos/intellisense/index.html)
  - [Quicktour](../../introvideos/quicktour/index.html)
  - [Versioncontrol](../../introvideos/versioncontrol/index.html)

-

- - Languages
  - [Cpp](../../languages/cpp/index.html)
  - [Csharp](../../languages/csharp/index.html)
  - [Css](../../languages/css/index.html)
  - [Dockerfile](../../languages/dockerfile/index.html)
  - [Go](../../languages/go/index.html)
  - [Html](../../languages/html/index.html)
  - [Identifiers](../../languages/identifiers/index.html)
  - [Javascript](../../languages/javascript/index.html)
  - [Jsconfig](../../languages/jsconfig/index.html)
  - [Json](../../languages/json/index.html)
  - [Markdown](../../languages/markdown/index.html)
  - [Overview](../../languages/overview/index.html)
  - [Php](../../languages/php/index.html)
  - [Python](../../languages/python/index.html)
  - [Tsql](../../languages/tsql/index.html)
  - [Typescript](../../languages/typescript/index.html)

-

- - Nodejs
  - [Angular tutorial](../../nodejs/angular-tutorial/index.html)
  - [Extensions](../../nodejs/extensions/index.html)
  - [Javascript transpilers](../../nodejs/javascript-transpilers/index.html)
  - [Nodejs debugging](../../nodejs/nodejs-debugging/index.html)
  - [Nodejs deployment](../../nodejs/nodejs-deployment/index.html)
  - [Nodejs tutorial](../../nodejs/nodejs-tutorial/index.html)
  - [Other javascript runtimes](../../nodejs/other-javascript-runtimes/index.html)
  - [Overview](../../nodejs/overview/index.html)
  - [Reactjs tutorial](../../nodejs/reactjs-tutorial/index.html)
  - [Tasks](../../nodejs/tasks/index.html)

-

- - Other
  - [Dotnet](../../other/dotnet/index.html)
  - [Office](../../other/office/index.html)
  - [Unity](../../other/unity/index.html)

-

- - Setup
  - [Additional components](../../setup/additional-components/index.html)
  - [Linux](../../setup/linux/index.html)
  - [Mac](../../setup/mac/index.html)
  - [Network](../../setup/network/index.html)
  - [Setup overview](../../setup/setup-overview/index.html)
  - [Windows](../../setup/windows/index.html)

-

- - Supporting
  - [Errors](../../supporting/errors/index.html)
  - [Faq](../../supporting/faq/index.html)
  - [Requirements](../../supporting/requirements/index.html)

-



[vscode](../../index.html)

- [Docs](../../index.html) »
- Extensions »
- Testing extensions
-

---

# Testing Your Extension

VS Code supports running and debugging tests for your extension that require the VS Code API. These tests will run inside a special instance of VS Code, the `Extension Development Host`, and have access to the full APIs. We refer to these tests as integration tests, because they go beyond unit tests that can run in isolation from a VS Code window. This documentation focuses on VS Code integration tests. For unit testing, you can use any popular testing framework, like [Mocha](https://mochajs.org/) or [Jasmine](https://jasmine.github.io/).

## Yo Code Test Scaffolding

The basic [yo code generator](https://vscode.readthedocs.io/docs/extensions/yocode.md) extension project includes a sample test as well as the necessary infrastructure to run it.

**Note**: The documentation below assumes that you created a TypeScript extension but the same also applies for a JavaScript extension. However, some file names may be different.

After you've created a new extension and opened the project in VS Code, you can select the `Launch Tests` configuration from the dropdown at the top of the Debug View.

![launch tests](../images/testing-extensions/launch-tests.png)

With this configuration chosen, when you run `Debug: Start` (`kb(workbench.action.debug.start)`), VS Code launches your extension in the `Extension Development Host` instance and runs your tests. Test output goes to the Debug Console where you can see the test results.

![test output](../images/testing-extensions/test-output.png)

The generated test uses the [Mocha test framework](https://mochajs.org/) for its test runner and library.

The extension project comes with a `test` folder that includes an `index.ts` file which defines the Mocha test runner configuration and an `extension.test.ts` which has the example `Something 1` test. You can typically leave `index.ts` untouched, but you can modify it to adjust the configuration of Mocha.

    ├── test
    │   ├── extension.test.ts
    │   └── index.ts

You can create more `test.ts` files under the `test` folder and they will automatically be built (to `out/test`) and run. The test runner will only consider files matching the name pattern `*.test.ts`.

## Launch Tests configuration

The `Launch Tests` configuration is defined in the project's `.vscode\launch.json` file. It is similar the `Launch Extension` configuration with the addition of the `--extensionTestsPath` argument which points to the compiled test files (assuming this is a TypeScript project).

    {
        "name": "Launch Tests",
        "type": "extensionHost",
        "request": "launch",
        "runtimeExecutable": "${execPath}",
        "args": ["--extensionDevelopmentPath=${workspaceRoot}", "--extensionTestsPath=${workspaceRoot}/out/test" ],
        "stopOnEntry": false,
        "sourceMaps": true,
        "outFiles": ["${workspaceRoot}/out/test/**/*.js"],
        "preLaunchTask": "npm"
    }

## Passing Arguments to the Extension Development Host

You can set the file or folder that the test instance should open by inserting the path at the front of the argument list for the launch configuration.

    "args": ["file or folder name", "--extensionDevelopmentPath=${workspaceRoot}", "--extensionTestsPath=${workspaceRoot}/out/test" ],

This way you can run your tests with predictable content and folder structure.

## Excluding test files from your extension package

If you decide to share your extension, you may not want to include the tests in your extension package. The [`.vscodeignore`](https://vscode.readthedocs.io/docs/extensions/publish-extension.md#advance-usage) file lets you exclude test files when you package and publish your extension with the [`vsce` publishing tool](https://vscode.readthedocs.io/docs/extensions/publish-extension.md). By default, the `yo code` generated extension project excludes the `test` and `out/test` folders.

    out/test/**
    test/**

## Running tests automatically on Travis CI build machines

You can run extension tests automatically on build machines like [Travis CI](https://travis-ci.org/).

In order to enable automated extension tests, the `vscode` npm module provides a test command that will:

- download and unzip VS Code
- launch your extension tests inside VS Code
- print the results to the console and return with an exit code according to test success or failure

To enable this test command, open your `package.json` and add the following entry to the `scripts` section:

    "test": "node ./node_modules/vscode/bin/test"

You can then enable Travis CI easily with a top-level `.travis.yml` configuration like this:

    sudo: false

    os:
      - osx
      - linux

    before_install:
      - if [ $TRAVIS_OS_NAME == "linux" ]; then
          export CXX="g++-4.9" CC="gcc-4.9" DISPLAY=:99.0;
          sh -e /etc/init.d/xvfb start;
          sleep 3;
        fi

    install:
      - npm install
      - npm run vscode:prepublish

    script:
      - npm test --silent

The script above will run the tests on both Linux and Mac. Note that in order to run the tests on Linux, you need to have a `before_install` configuration as above to enable Linux to start VS Code from the build.

There are some optional environment variables to configure the test runner:

<table><thead><tr class="header"><th>Name</th><th>Description</th></tr></thead><tbody><tr class="odd"><td><code>CODE_VERSION</code></td><td>Version of VS Code to run the tests against (e.g. <code>0.10.10</code>)</td></tr><tr class="even"><td><code>CODE_DOWNLOAD_URL</code></td><td>Full URL of a VS Code drop to use for running tests against</td></tr><tr class="odd"><td><code>CODE_TESTS_PATH</code></td><td>Location of the tests to execute (default is <code>proces.cwd()/out/test</code> or <code>process.cwd()/test</code>)</td></tr><tr class="even"><td><code>CODE_EXTENSIONS_PATH</code></td><td>Location of the extensions to load (default is <code>proces.cwd()</code>)</td></tr><tr class="odd"><td><code>CODE_TESTS_WORKSPACE</code></td><td>Location of a workspace to open for the test instance (default is CODE_TESTS_PATH)</td></tr></tbody></table>

## Running tests on Windows with AppVeyor

You can also run extension tests on Windows with [AppVeyor](https://www.appveyor.com/). To get started, you can review the VS Code integration tests AppVeyor [configuration file](https://github.com/Microsoft/vscode/blob/master/appveyor.yml).

## Next Steps

- [Debugging your Extension](https://vscode.readthedocs.io/docs/extensions/debugging-extensions.md) - Learn more about how to run and debug your extension
- [vsce](https://vscode.readthedocs.io/docs/extensions/publish-extension.md) - Publish your extension with the VSCE command line tool.
- [Extension Manifest file](https://vscode.readthedocs.io/docs/extensionAPI/extension-manifest.md) - VS Code extension manifest file reference
- [Extension API](https://vscode.readthedocs.io/docs/extensionAPI/overview.md) - Learn about the VS Code extensibility APIs

<a href="../themes-snippets-colorizers/index.html" class="btn btn-neutral float-right" title="Themes snippets colorizers">Next <span class="icon icon-circle-arrow-right"></span></a> <a href="../samples/index.html" class="btn btn-neutral" title="Samples"><span class="icon icon-circle-arrow-left"></span> Previous</a>

---

<span class="rst-current-version" toggle="rst-current-version"> <span class="fa fa-book"> Read the Docs</span> <span class="fa fa-caret-down"></span> </span>
