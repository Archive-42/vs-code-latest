<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en">
  <!--<![endif]-->

  <!-- extensionAPI/api-scm/  Sat, 30 Oct 2021 04:57:15 -->
  <!-- Added by HTTrack --><meta
    http-equiv="content-type"
    content="text/html;charset=utf-8"
  /><!-- /Added by HTTrack -->
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Api scm - vscode</title>

    <link rel="shortcut icon" href="../../img/favicon.ico" />

    <link
      href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700"
      rel="stylesheet"
      type="text/css"
    />

    <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
    <link rel="stylesheet" href="../../css/highlight.css" />
    <link
      href="../../../../../assets.readthedocs.org/static/css/badge_only.css"
      rel="stylesheet"
    />
    <link
      href="../../../../../assets.readthedocs.org/static/css/readthedocs-doc-embed.css"
      rel="stylesheet"
    />

    <script>
      // Current page data
      var mkdocs_page_name = "Api scm";
      var mkdocs_page_input_path = "extensionAPI/api-scm.md";
      var mkdocs_page_url =
        "https://vscode.readthedocs.io/extensionAPI/api-scm/";
    </script>

    <script src="../../js/jquery-2.1.1.min.js"></script>
    <script src="../../js/modernizr-2.8.3.min.js"></script>
    <script type="text/javascript" src="../../js/highlight.pack.js"></script>
    <script src="../../js/theme.js"></script>
    <script src="../../readthedocs-data.js"></script>
    <script src="../../readthedocs-dynamic-include.js"></script>
    <script src="../../../../../assets.readthedocs.org/static/static/core/js/readthedocs-doc-embed.js"></script>
  </head>

  <body class="wy-body-for-nav" role="document">
    <div class="wy-grid-for-nav">
      <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
        <div class="wy-side-nav-search">
          <a href="../../index.html" class="icon icon-home"> vscode</a>
          <div role="search">
            <form id="rtd-search-form" class="wy-form" action="#" method="get">
              <input type="text" name="q" placeholder="Search docs" />
              <input type="hidden" name="check_keywords" value="yes" />
              <input type="hidden" name="area" value="default" />
            </form>
          </div>
        </div>

        <div
          class="wy-menu wy-menu-vertical"
          data-spy="affix"
          role="navigation"
          aria-label="main navigation"
        >
          <ul class="current">
            <li></li>
            <li class="toctree-l1">
              <a class="" href="../../index.html">Home</a>
            </li>
            <li></li>

            <li>
              <ul class="subnav">
                <li><span>Customization</span></li>

                <li class="toctree-l1">
                  <a
                    class=""
                    href="../../customization/keyboard-shortcuts/index.html"
                    >Keyboard shortcuts</a
                  >
                </li>
              </ul>
            </li>

            <li></li>

            <li>
              <ul class="subnav">
                <li><span>Editor</span></li>

                <li class="toctree-l1">
                  <a class="" href="../../editor/accessibility/index.html"
                    >Accessibility</a
                  >
                </li>

                <li class="toctree-l1">
                  <a class="" href="../../editor/codebasics/index.html"
                    >Codebasics</a
                  >
                </li>

                <li class="toctree-l1">
                  <a class="" href="../../editor/command-line/index.html"
                    >Command line</a
                  >
                </li>

                <li class="toctree-l1">
                  <a class="" href="../../editor/debugging/index.html"
                    >Debugging</a
                  >
                </li>

                <li class="toctree-l1">
                  <a class="" href="../../editor/editingevolved/index.html"
                    >Editingevolved</a
                  >
                </li>

                <li class="toctree-l1">
                  <a class="" href="../../editor/emmet/index.html">Emmet</a>
                </li>

                <li class="toctree-l1">
                  <a class="" href="../../editor/extension-gallery/index.html"
                    >Extension gallery</a
                  >
                </li>

                <li class="toctree-l1">
                  <a class="" href="../../editor/integrated-terminal/index.html"
                    >Integrated terminal</a
                  >
                </li>

                <li class="toctree-l1">
                  <a class="" href="../../editor/intellisense/index.html"
                    >Intellisense</a
                  >
                </li>

                <li class="toctree-l1">
                  <a class="" href="../../editor/tasks-appendix/index.html"
                    >Tasks appendix</a
                  >
                </li>

                <li class="toctree-l1">
                  <a class="" href="../../editor/tasks-v1-appendix/index.html"
                    >Tasks v1 appendix</a
                  >
                </li>

                <li class="toctree-l1">
                  <a class="" href="../../editor/tasks-v1/index.html"
                    >Tasks v1</a
                  >
                </li>

                <li class="toctree-l1">
                  <a class="" href="../../editor/tasks/index.html">Tasks</a>
                </li>

                <li class="toctree-l1">
                  <a class="" href="../../editor/userdefinedsnippets/index.html"
                    >Userdefinedsnippets</a
                  >
                </li>

                <li class="toctree-l1">
                  <a class="" href="../../editor/versioncontrol/index.html"
                    >Versioncontrol</a
                  >
                </li>

                <li class="toctree-l1">
                  <a class="" href="../../editor/whyvscode/index.html"
                    >Whyvscode</a
                  >
                </li>
              </ul>
            </li>

            <li></li>

            <li>
              <ul class="subnav">
                <li><span>extensionAPI</span></li>

                <li class="toctree-l1">
                  <a class="" href="../activation-events/index.html"
                    >Activation events</a
                  >
                </li>

                <li class="toctree-l1">
                  <a class="" href="../api-debugging/index.html"
                    >Api debugging</a
                  >
                </li>

                <li class="toctree-l1">
                  <a class="" href="../api-markdown/index.html">Api markdown</a>
                </li>

                <li class="toctree-l1 current">
                  <a class="current" href="index.html">Api scm</a>

                  <ul>
                    <li class="toctree-l3">
                      <a href="#source-control-in-vs-code"
                        >Source Control in VS Code</a
                      >
                    </li>

                    <li>
                      <a class="toctree-l4" href="#source-control-model"
                        >Source Control Model</a
                      >
                    </li>

                    <li>
                      <a class="toctree-l4" href="#source-control-view"
                        >Source Control View</a
                      >
                    </li>

                    <li>
                      <a class="toctree-l4" href="#quick-diff">Quick Diff</a>
                    </li>

                    <li>
                      <a class="toctree-l4" href="#next-steps">Next Steps</a>
                    </li>
                  </ul>
                </li>

                <li class="toctree-l1">
                  <a class="" href="../extension-manifest/index.html"
                    >Extension manifest</a
                  >
                </li>

                <li class="toctree-l1">
                  <a class="" href="../extension-points/index.html"
                    >Extension points</a
                  >
                </li>

                <li class="toctree-l1">
                  <a class="" href="../language-support/index.html"
                    >Language support</a
                  >
                </li>

                <li class="toctree-l1">
                  <a class="" href="../overview/index.html">Overview</a>
                </li>

                <li class="toctree-l1">
                  <a class="" href="../patterns-and-principles/index.html"
                    >Patterns and principles</a
                  >
                </li>

                <li class="toctree-l1">
                  <a class="" href="../vscode-api-commands/index.html"
                    >Vscode api commands</a
                  >
                </li>

                <li class="toctree-l1">
                  <a class="" href="../vscode-api/index.html">Vscode api</a>
                </li>
              </ul>
            </li>

            <li></li>

            <li>
              <ul class="subnav">
                <li><span>Extensions</span></li>

                <li class="toctree-l1">
                  <a
                    class=""
                    href="../../extensions/debugging-extensions/index.html"
                    >Debugging extensions</a
                  >
                </li>

                <li class="toctree-l1">
                  <a
                    class=""
                    href="../../extensions/example-debuggers/index.html"
                    >Example debuggers</a
                  >
                </li>

                <li class="toctree-l1">
                  <a
                    class=""
                    href="../../extensions/example-hello-world/index.html"
                    >Example hello world</a
                  >
                </li>

                <li class="toctree-l1">
                  <a
                    class=""
                    href="../../extensions/example-language-server/index.html"
                    >Example language server</a
                  >
                </li>

                <li class="toctree-l1">
                  <a
                    class=""
                    href="../../extensions/example-word-count/index.html"
                    >Example word count</a
                  >
                </li>

                <li class="toctree-l1">
                  <a class="" href="../../extensions/overview/index.html"
                    >Overview</a
                  >
                </li>

                <li class="toctree-l1">
                  <a
                    class=""
                    href="../../extensions/publish-extension/index.html"
                    >Publish extension</a
                  >
                </li>

                <li class="toctree-l1">
                  <a class="" href="../../extensions/samples/index.html"
                    >Samples</a
                  >
                </li>

                <li class="toctree-l1">
                  <a
                    class=""
                    href="../../extensions/testing-extensions/index.html"
                    >Testing extensions</a
                  >
                </li>

                <li class="toctree-l1">
                  <a
                    class=""
                    href="../../extensions/themes-snippets-colorizers/index.html"
                    >Themes snippets colorizers</a
                  >
                </li>

                <li class="toctree-l1">
                  <a class="" href="../../extensions/yocode/index.html"
                    >Yocode</a
                  >
                </li>
              </ul>
            </li>

            <li></li>

            <li>
              <ul class="subnav">
                <li><span>Getstarted</span></li>

                <li class="toctree-l1">
                  <a class="" href="../../getstarted/introvideos/index.html"
                    >Introvideos</a
                  >
                </li>

                <li class="toctree-l1">
                  <a class="" href="../../getstarted/keybindings/index.html"
                    >Keybindings</a
                  >
                </li>

                <li class="toctree-l1">
                  <a class="" href="../../getstarted/locales/index.html"
                    >Locales</a
                  >
                </li>

                <li class="toctree-l1">
                  <a class="" href="../../getstarted/settings/index.html"
                    >Settings</a
                  >
                </li>

                <li class="toctree-l1">
                  <a
                    class=""
                    href="../../getstarted/theme-color-reference/index.html"
                    >Theme color reference</a
                  >
                </li>

                <li class="toctree-l1">
                  <a class="" href="../../getstarted/themes/index.html"
                    >Themes</a
                  >
                </li>

                <li class="toctree-l1">
                  <a class="" href="../../getstarted/userinterface/index.html"
                    >Userinterface</a
                  >
                </li>
              </ul>
            </li>

            <li></li>

            <li>
              <ul class="subnav">
                <li><span>Introvideos</span></li>

                <li class="toctree-l1">
                  <a class="" href="../../introvideos/basics/index.html"
                    >Basics</a
                  >
                </li>

                <li class="toctree-l1">
                  <a class="" href="../../introvideos/codeediting/index.html"
                    >Codeediting</a
                  >
                </li>

                <li class="toctree-l1">
                  <a class="" href="../../introvideos/configure/index.html"
                    >Configure</a
                  >
                </li>

                <li class="toctree-l1">
                  <a class="" href="../../introvideos/debugging/index.html"
                    >Debugging</a
                  >
                </li>

                <li class="toctree-l1">
                  <a class="" href="../../introvideos/extend/index.html"
                    >Extend</a
                  >
                </li>

                <li class="toctree-l1">
                  <a class="" href="../../introvideos/intellisense/index.html"
                    >Intellisense</a
                  >
                </li>

                <li class="toctree-l1">
                  <a class="" href="../../introvideos/quicktour/index.html"
                    >Quicktour</a
                  >
                </li>

                <li class="toctree-l1">
                  <a class="" href="../../introvideos/versioncontrol/index.html"
                    >Versioncontrol</a
                  >
                </li>
              </ul>
            </li>

            <li></li>

            <li>
              <ul class="subnav">
                <li><span>Languages</span></li>

                <li class="toctree-l1">
                  <a class="" href="../../languages/cpp/index.html">Cpp</a>
                </li>

                <li class="toctree-l1">
                  <a class="" href="../../languages/csharp/index.html"
                    >Csharp</a
                  >
                </li>

                <li class="toctree-l1">
                  <a class="" href="../../languages/css/index.html">Css</a>
                </li>

                <li class="toctree-l1">
                  <a class="" href="../../languages/dockerfile/index.html"
                    >Dockerfile</a
                  >
                </li>

                <li class="toctree-l1">
                  <a class="" href="../../languages/go/index.html">Go</a>
                </li>

                <li class="toctree-l1">
                  <a class="" href="../../languages/html/index.html">Html</a>
                </li>

                <li class="toctree-l1">
                  <a class="" href="../../languages/identifiers/index.html"
                    >Identifiers</a
                  >
                </li>

                <li class="toctree-l1">
                  <a class="" href="../../languages/javascript/index.html"
                    >Javascript</a
                  >
                </li>

                <li class="toctree-l1">
                  <a class="" href="../../languages/jsconfig/index.html"
                    >Jsconfig</a
                  >
                </li>

                <li class="toctree-l1">
                  <a class="" href="../../languages/json/index.html">Json</a>
                </li>

                <li class="toctree-l1">
                  <a class="" href="../../languages/markdown/index.html"
                    >Markdown</a
                  >
                </li>

                <li class="toctree-l1">
                  <a class="" href="../../languages/overview/index.html"
                    >Overview</a
                  >
                </li>

                <li class="toctree-l1">
                  <a class="" href="../../languages/php/index.html">Php</a>
                </li>

                <li class="toctree-l1">
                  <a class="" href="../../languages/python/index.html"
                    >Python</a
                  >
                </li>

                <li class="toctree-l1">
                  <a class="" href="../../languages/tsql/index.html">Tsql</a>
                </li>

                <li class="toctree-l1">
                  <a class="" href="../../languages/typescript/index.html"
                    >Typescript</a
                  >
                </li>
              </ul>
            </li>

            <li></li>

            <li>
              <ul class="subnav">
                <li><span>Nodejs</span></li>

                <li class="toctree-l1">
                  <a class="" href="../../nodejs/angular-tutorial/index.html"
                    >Angular tutorial</a
                  >
                </li>

                <li class="toctree-l1">
                  <a class="" href="../../nodejs/extensions/index.html"
                    >Extensions</a
                  >
                </li>

                <li class="toctree-l1">
                  <a
                    class=""
                    href="../../nodejs/javascript-transpilers/index.html"
                    >Javascript transpilers</a
                  >
                </li>

                <li class="toctree-l1">
                  <a class="" href="../../nodejs/nodejs-debugging/index.html"
                    >Nodejs debugging</a
                  >
                </li>

                <li class="toctree-l1">
                  <a class="" href="../../nodejs/nodejs-deployment/index.html"
                    >Nodejs deployment</a
                  >
                </li>

                <li class="toctree-l1">
                  <a class="" href="../../nodejs/nodejs-tutorial/index.html"
                    >Nodejs tutorial</a
                  >
                </li>

                <li class="toctree-l1">
                  <a
                    class=""
                    href="../../nodejs/other-javascript-runtimes/index.html"
                    >Other javascript runtimes</a
                  >
                </li>

                <li class="toctree-l1">
                  <a class="" href="../../nodejs/overview/index.html"
                    >Overview</a
                  >
                </li>

                <li class="toctree-l1">
                  <a class="" href="../../nodejs/reactjs-tutorial/index.html"
                    >Reactjs tutorial</a
                  >
                </li>

                <li class="toctree-l1">
                  <a class="" href="../../nodejs/tasks/index.html">Tasks</a>
                </li>
              </ul>
            </li>

            <li></li>

            <li>
              <ul class="subnav">
                <li><span>Other</span></li>

                <li class="toctree-l1">
                  <a class="" href="../../other/dotnet/index.html">Dotnet</a>
                </li>

                <li class="toctree-l1">
                  <a class="" href="../../other/office/index.html">Office</a>
                </li>

                <li class="toctree-l1">
                  <a class="" href="../../other/unity/index.html">Unity</a>
                </li>
              </ul>
            </li>

            <li></li>

            <li>
              <ul class="subnav">
                <li><span>Setup</span></li>

                <li class="toctree-l1">
                  <a
                    class=""
                    href="../../setup/additional-components/index.html"
                    >Additional components</a
                  >
                </li>

                <li class="toctree-l1">
                  <a class="" href="../../setup/linux/index.html">Linux</a>
                </li>

                <li class="toctree-l1">
                  <a class="" href="../../setup/mac/index.html">Mac</a>
                </li>

                <li class="toctree-l1">
                  <a class="" href="../../setup/network/index.html">Network</a>
                </li>

                <li class="toctree-l1">
                  <a class="" href="../../setup/setup-overview/index.html"
                    >Setup overview</a
                  >
                </li>

                <li class="toctree-l1">
                  <a class="" href="../../setup/windows/index.html">Windows</a>
                </li>
              </ul>
            </li>

            <li></li>

            <li>
              <ul class="subnav">
                <li><span>Supporting</span></li>

                <li class="toctree-l1">
                  <a class="" href="../../supporting/errors/index.html"
                    >Errors</a
                  >
                </li>

                <li class="toctree-l1">
                  <a class="" href="../../supporting/faq/index.html">Faq</a>
                </li>

                <li class="toctree-l1">
                  <a class="" href="../../supporting/requirements/index.html"
                    >Requirements</a
                  >
                </li>
              </ul>
            </li>

            <li></li>
          </ul>
        </div>
        &nbsp;
      </nav>

      <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
        <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">vscode</a>
        </nav>

        <div class="wy-nav-content">
          <div class="rst-content">
            <div role="navigation" aria-label="breadcrumbs navigation">
              <ul class="wy-breadcrumbs">
                <li><a href="../../index.html">Docs</a> &raquo;</li>

                <li>extensionAPI &raquo;</li>

                <li>Api scm</li>
                <li class="wy-breadcrumbs-aside"></li>
              </ul>
              <hr />
            </div>
            <div role="main">
              <div class="section">
                <h1 id="source-control-in-vs-code">
                  Source Control in VS Code
                </h1>
                <p>
                  Visual Studio Code allows extension authors to define Source
                  Control Management (SCM) features through its extension API.
                  There is a slim, yet powerful API surface which allows many
                  different SCM systems to be integrated in VS Code, while
                  having a common user interface with all of them.
                </p>
                <p>
                  <img alt="VS Code SCM" src="../images/api-scm/main.png" />
                </p>
                <p>
                  VS Code itself ships with one Source Control provider: Git.
                  This documentation will help you integrate your own SCM
                  system.
                </p>
                <p>
                  Note that you can always refer to the
                  <a
                    href="https://vscode.readthedocs.io/docs/extensionAPI/vscode-api.md#scm"
                    ><code>vscode</code> namespace API reference</a
                  >
                  in our documentation.
                </p>
                <h2 id="source-control-model">Source Control Model</h2>
                <p>
                  An <code>SourceControl</code> is the entity responsible for
                  populating the Source Control model with
                  <strong>resource states</strong>, instances of
                  <code>SourceControlResourceState</code>. Resource states are
                  themselves organized in <strong>groups</strong>, instances of
                  <code>SourceControlResourceGroup</code>.
                </p>
                <p>
                  You can create a new SourceControl with
                  <code>vscode.scm.createSourceControl</code>.
                </p>
                <p>
                  In order to better understand how these three entities
                  correlate with each other, let's take
                  <a
                    href="https://github.com/Microsoft/vscode/tree/master/extensions/git"
                    >Git</a
                  >
                  as an example. Consider the following output of
                  <code>git status</code>:
                </p>
                <pre><code class="bash">vsce master* → git status
On branch master
Your branch is up-to-date with 'origin/master'.
Changes to be committed:
  (use &quot;git reset HEAD &lt;file&gt;...&quot; to unstage)

        modified:   README.md
        renamed:    src/api.ts -&gt; src/test/api.ts

Changes not staged for commit:
  (use &quot;git add/rm &lt;file&gt;...&quot; to update what will be committed)
  (use &quot;git checkout -- &lt;file&gt;...&quot; to discard changes in working directory)

        deleted:    .travis.yml
        modified:   README.md
</code></pre>

                <p>
                  There are many things going on in this workspace. First, the
                  <code>README.md</code> file has been modified, staged and then
                  modified once again. Second, the <code>src/api.ts</code> file
                  has been moved to <code>src/test/api.ts</code> and that move
                  was staged. Finally, the <code>.travis.yml</code> file has
                  been deleted.
                </p>
                <p>
                  For this workspace, Git defines two resource groups: the
                  <strong>working tree</strong> and the <strong>index</strong>.
                  Each <strong>file change</strong> within that group is
                  <strong>resource state</strong>:
                </p>
                <ul>
                  <li><strong>Index</strong> - resource group</li>
                  <li><code>README.md</code>, modified - resource state</li>
                  <li>
                    <code>src/test/api.ts</code>, renamed from
                    <code>src/api.ts</code> - resource state
                  </li>
                  <li><strong>Working Tree</strong> - resource group</li>
                  <li><code>.travis.yml</code>, deleted - resource state</li>
                  <li><code>README.md</code>, modified - resource state</li>
                </ul>
                <p>
                  Note how the same file, <code>README.md</code>, is part of two
                  distinct resource states.
                </p>
                <p>Here's how Git creates this model:</p>
                <pre><code class="ts">function createResourceUri(relativePath: string): vscode.Uri {
  const absolutePath = path.join(vscode.workspace.rootPath, relativePath);
  return vscode.Uri.file(absolutePath);
}

const gitSCM = vscode.scm.createSourceControl('git', &quot;Git&quot;);

const index = gitSCM.createResourceGroup('index', &quot;Index&quot;);
index.resourceStates = [
  { resourceUri: createResourceUri('README.md') },
  { resourceUri: createResourceUri('src/test/api.ts') }
];

const workingTree = gitSCM.createResourceGroup('workingTree', &quot;Changes&quot;);
workingTree.resourceStates = [
  { resourceUri: createResourceUri('.travis.yml') },
  { resourceUri: createResourceUri('README.md') }
];
</code></pre>

                <p>
                  Changes made to the source control and resource groups will be
                  propagated to the Source Control view.
                </p>
                <h2 id="source-control-view">Source Control View</h2>
                <p>
                  VS Code is able to populate the Source Control view, as the
                  Source Control model changes. Resource states are customizable
                  using <code>SourceControlResourceDecorations</code>:
                </p>
                <pre><code class="ts">export interface SourceControlResourceState {
  readonly decorations?: SourceControlResourceDecorations;
}
</code></pre>

                <p>
                  The previous example would be sufficient to populate a simple
                  list in the Source Control view, but there are many user
                  interactions that the user might want to perform with each
                  resource. For instance, what happens when the user clicks a
                  resource state? The resource state can optionally provide a
                  command to handle this action:
                </p>
                <pre><code class="ts">export interface SourceControlResourceState {
  readonly command?: Command;
}
</code></pre>

                <h3 id="menus">Menus</h3>
                <p>
                  There are three Source Control menu ids where you can place
                  menu items, in order to provide the user with a much richer
                  user interface.
                </p>
                <p>
                  The <code>scm/title</code> menu is located to the right of the
                  SCM view title. The menu items in the
                  <code>navigation</code> group will be inline, while all the
                  others will be within the <code>…</code> dropdown.
                </p>
                <p>
                  The <code>scm/resourceGroup/context</code> and
                  <code>scm/resourceState/context</code> are similar. The former
                  will let you customize resource groups, while the later refers
                  to resource states. Place menu items in the
                  <code>inline</code> group to have them inline. All other menu
                  item groups will be represented in a context menu usually
                  accessible using the mouse right-click. Commands called from
                  within these menus will have the respective resource states on
                  passed as arguments. Note that the SCM view supports multiple
                  selection thus a command might receive more than one resource
                  at a time in its arguments.
                </p>
                <p>
                  For example, Git supports staging multiple files by adding the
                  <code>git.stage</code> command to the
                  <code>scm/resourceState/context</code> menu and using such a
                  method declaration:
                </p>
                <pre><code class="ts">stage(...resourceStates: SourceControlResourceState[]): Promise&lt;void&gt;;
</code></pre>

                <p>
                  When creating them, <code>SourceControl</code> and
                  <code>SourceControlResourceGroup</code> instances require you
                  to provide an <code>id</code> string. These values will be
                  populated in the <code>scmProvider</code> and
                  <code>scmResourceGroup</code> context keys, respectively. You
                  can rely on these context keys in the
                  <code>when</code> clauses of your menu items. Here's how Git
                  is able to show a menu item for its
                  <code>git.stage</code> command:
                </p>
                <pre><code class="json">{
  &quot;command&quot;: &quot;git.stage&quot;,
  &quot;when&quot;: &quot;scmProvider == git &amp;&amp; scmResourceGroup == merge&quot;,
  &quot;group&quot;: &quot;inline&quot;
}
</code></pre>

                <h3 id="scm-input-box">SCM Input Box</h3>
                <p>
                  The Source Control Input Box, located atop of each Source
                  Control view, allows the user to input a message. You can get
                  (and set) this message in order to perform operations. In Git,
                  for example, this is used as the commit box, in which users
                  type in commit messages and <code>git commit</code> commands
                  pick them up.
                </p>
                <pre><code class="ts">export interface SourceControlInputBox {
  value: string;
}

export interface SourceControl {
  readonly inputBox: SourceControlInputBox;
}
</code></pre>

                <p>
                  The user can type <kbd>Ctrl+Enter</kbd> (or
                  <kbd>Cmd+Enter</kbd> on macOS) to accept any message. You can
                  handle this event by providing a
                  <code>acceptInputCommand</code> to your
                  <code>SourceControl</code> instance.
                </p>
                <pre><code class="ts">export interface SourceControl {
  readonly acceptInputCommand?: Command;
}
</code></pre>

                <h2 id="quick-diff">Quick Diff</h2>
                <p>
                  VS Code also supports displaying
                  <strong>quick diff</strong> editor gutter decorations.
                </p>
                <p>
                  <img
                    alt="VS Code SCM"
                    src="../images/api-scm/quickdiff.png"
                  />
                </p>
                <p>
                  These decorations are computed by VS Code itself. All you need
                  to do is provide VS Code with the original contents of any
                  given file.
                </p>
                <pre><code class="ts">export interface SourceControl {
  quickDiffProvider?: QuickDiffProvider;
}
</code></pre>

                <p>
                  Using a <code>QuickDiffProvider</code>, your implementation is
                  able to tell VS Code what's the <code>Uri</code> of the
                  original resource that matches the resource which
                  <code>Uri</code> is provided as an argument.
                </p>
                <p>
                  You can combine this API with the
                  <a
                    href="https://vscode.readthedocs.io/docs/extensionAPI/vscode-api.md#workspace"
                    ><code>registerTextDocumentContentProvider</code> method in
                    the <code>workspace</code> namespace</a
                  >, which lets you provide contents for arbitrary resources,
                  given a <code>Uri</code>.
                </p>
                <h2 id="next-steps">Next Steps</h2>
                <p>
                  To learn more about VS Code extensibility model, try these
                  topics:
                </p>
                <ul>
                  <li>
                    <a
                      href="https://vscode.readthedocs.io/docs/extensionAPI/vscode-api.md#scm"
                      >SCM API Reference</a
                    >
                    - Read the full SCM API documentation
                  </li>
                  <li>
                    <a
                      href="https://github.com/Microsoft/vscode/tree/master/extensions/git"
                      >Git Extension</a
                    >
                    - Learn by reading the Git extension implementation
                  </li>
                  <li>
                    <a
                      href="https://vscode.readthedocs.io/docs/extensionAPI/overview.md"
                      >Extension API Overview</a
                    >
                    - Learn about the full VS Code extensibility model.
                  </li>
                  <li>
                    <a
                      href="https://vscode.readthedocs.io/docs/extensionAPI/extension-manifest.md"
                      >Extension Manifest File</a
                    >
                    - VS Code package.json extension manifest file reference
                  </li>
                  <li>
                    <a
                      href="https://vscode.readthedocs.io/docs/extensionAPI/extension-points.md"
                      >Contribution Points</a
                    >
                    - VS Code contribution points reference
                  </li>
                </ul>
              </div>
            </div>
            <footer>
              <div
                class="rst-footer-buttons"
                role="navigation"
                aria-label="footer navigation"
              >
                <a
                  href="../extension-manifest/index.html"
                  class="btn btn-neutral float-right"
                  title="Extension manifest"
                  >Next <span class="icon icon-circle-arrow-right"></span
                ></a>

                <a
                  href="../api-markdown/index.html"
                  class="btn btn-neutral"
                  title="Api markdown"
                  ><span class="icon icon-circle-arrow-left"></span> Previous</a
                >
              </div>

              <hr />
            </footer>
          </div>
        </div>
      </section>
    </div>

    <div
      class="rst-versions"
      data-toggle="rst-versions"
      role="note"
      aria-label="versions"
    >
      <span class="rst-current-version" data-toggle="rst-current-version">
        <span class="fa fa-book"> Read the Docs</span>
        <span class="fa fa-caret-down"></span>
      </span>
      <div class="rst-other-versions"></div>
    </div>
  </body>

  <!-- extensionAPI/api-scm/  Sat, 30 Oct 2021 04:57:15 -->
</html>
